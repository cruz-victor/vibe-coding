---
title: "API Exception Handling"
description: "Estandariza la respuesta de errores y el manejo centralizado."
tags: [api, exception, error]
appliesTo: ["src/main/java/**/controller/**", "src/main/java/**/advice/**"]
---

# Exception handling rules

- Implementar `@ControllerAdvice` global (`GlobalExceptionHandler`).  
- Definir una jerarquía de excepciones (`DomainException`, `NotFoundException`, `BadRequestException`, `ConflictException`).  
- Respuestas de error con estructura estándar:
  - `timestamp`, `status`, `error`, `message`, `path`, `traceId` (opcional).  
- Nunca enviar stack traces al cliente en producción.  
- Mapear excepciones a códigos HTTP adecuados (400, 401, 403, 404, 409, 500).  
- Registrar errores con contexto (correlation id, user id si aplica).  
